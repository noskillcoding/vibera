{% load custom_tags %}

<ul class="{% if embed %}embedded {% endif %}blog-posts space-posts">
    {% for post in posts %}
    <li>
        <span>
            <i>
                <time datetime="{{ post.published_date|date:'Y-m-d\TH:i\Z' }}">
                    {% format_date post.published_date blog.date_format blog.lang tz %}
                </time>
            </i>
        </span>
        <span style="white-space: nowrap;">
            <a href="/{{ post.slug }}/">{{ post.title }}</a>{% if post.tags or post.tools %} <span style="margin: 0 8px; opacity: 0.6; font-weight: 300;">|</span> <span style="font-size: 0.85em;">{% if post.tags %}{% for tag in post.tags %}<a href="/{{ blog.blog_path }}/?q={{ tag }}" style="color: #007cba; text-decoration: none; margin-right: 8px; cursor: pointer; opacity: 0.8;" title="Filter by tag" onmouseover="this.style.opacity='1'; this.style.textDecoration='underline'" onmouseout="this.style.opacity='0.8'; this.style.textDecoration='none'">#{{ tag }}</a>{% endfor %}{% endif %}{% if post.tools %}{% for tool in post.tools %}<a href="/{{ blog.blog_path }}/?tool={{ tool }}" style="color: #666; text-decoration: none; margin-right: 8px; cursor: pointer; opacity: 0.8;" title="Filter by tool" onmouseover="this.style.opacity='1'; this.style.textDecoration='underline'" onmouseout="this.style.opacity='0.8'; this.style.textDecoration='none'">{{ tool }}</a>{% endfor %}{% endif %}</span>{% endif %}
        </span>
        
        {% if show_description %}
        <p>{{ post.meta_description }}</p>
        {% endif %}
        {% if show_content %}
        <div>{% markdown content=post.content blog=blog post=post tz=tz %}</div>
        {% endif %}
    </li>
    {% empty %}
    <li>
        No posts yet
    </li>
    {% endfor %}
</ul>